<aura:component controller="LC04_AddProduct" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" access="global" >
	<!-- <ltng:require styles="/resource/bootstrap/css/bootstrap.min.css" scripts="/resource/bootstrap/js/jquery-2.js,/resource/bootstrap/js/bootstrap.min.js" />
 -->
    <aura:attribute name="lstProduct" type="List" />
    <aura:attribute name="ShowModule" type="boolean" default="false"/>   
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="isSelectAll" type="boolean" default="false"/>
    <aura:attribute name="selectedCount" type="integer" default="0"/>
    <aura:attribute name="errorMsg" type="string"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />

    <div class="slds-table slds-table--bordered slds-table--cell-buffer " >
        <div class="slds-box slds-box--x-small slds-theme_backgroundColor-lightblue slds-align_absolute-center" >
                <lightning:button label="Add Product" title="Add Product" onclick="{!c.ShowModuleBox}"  class="btn"/>
        </div>   
    </div>

    <aura:if isTrue="{!v.ShowModule}">
    	<div role="dialog" class="slds-modal slds-modal--large slds-fade-in-open">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <header class="slds-modal__header">
                        <lightning:buttonIcon iconName="utility:close" variant="bare" onclick="{! c.cancel }" 
                            alternativeText="Close" class="slds-modal__close" />
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Add Product</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <aura:if isTrue="{!!empty(v.lstProduct)}">
 						<table class="slds-table slds-table--bordered">
				            <thead>
				                <tr class="slds-align-left">
				                	<th>           
                        				<label class="slds-checkbox">
                            				<ui:inputCheckbox value="{!v.isSelectAll}" change="{!c.selectAll}"/>
                            				<span class="slds-checkbox--faux" />
                            				<span class="slds-form-element__label"></span>
                        				</label>
                    				</th>
				                    <th scope="col"  style="text-align:left">Name</th>
				                    <th scope="col" style="text-align:left">Description</th>
				                </tr>
				            </thead>
				            <tbody style="align:center;">
				                <aura:if isTrue="{!!empty(v.lstProduct)}">
				                    <aura:iteration var="product" items="{!v.lstProduct}" >
				                        <tr>
				                        	<td>
				                        		<label class="slds-checkbox">
					                                <ui:inputCheckbox aura:id="checkProduct" value="" text="{!product.Id}" change="{!c.checkboxSelect}"/>
					                                <span class="slds-checkbox--faux" />
					                                <span class="slds-form-element__label"></span>
					                            </label>
					                        </td>
				                            <td style="text-align:left"><ui:outputText value="{!product.Name}"/></td>
				                            <td style="text-align:left"><ui:outputText value="{!product.Product_description__c}"/></td>
				                        </tr>
				                    </aura:iteration>
				                </aura:if>
				            </tbody>
				        </table>
				    </aura:if>
				    <aura:if isTrue="{!empty(v.lstProduct)}">
				    	<div class="slds-box slds-theme--error slds-align_absolute-center">
    						<ui:outputText value="{!v.errorMsg}"/>
  						</div>
				    </aura:if>
				    </div>
                    <footer class="slds-modal__footer">
                    	<aura:if isTrue="{!!empty(v.lstProduct)}">
                    		<lightning:button label="Add" class="slds-button_brand" onclick="{!c.saveSelectedProducts }"  />
                    	</aura:if>
                        <lightning:button  label="Cancel" title="Cancel" onclick="{! c.cancel }"/>
                    </footer>
                </div>
           </section>
           <div class="slds-backdrop slds-backdrop_open"></div>
       </div>
    </aura:if>   
</aura:component>